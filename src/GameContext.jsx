// GameContext with dual-mode logic